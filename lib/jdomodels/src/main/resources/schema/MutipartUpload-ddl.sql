CREATE TABLE IF NOT EXISTS `MULTIPART_UPLOAD` (
  `ID` bigint(20) NOT NULL,
  `REQUEST_HASH` char(100) NOT NULL,
  `ETAG` char(36) NOT NULL,
  `PROVIDER_UPLOAD_ID` char(36) NOT NULL,
  `FILE_SIZE` bigint(20) NOT NULL,
  `PART_SIZE` bigint(20) NOT NULL,
  `FILE_MD5_HEX` char(36) NOT NULL,
  `FILE_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `CONTENT_TYPE` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `CONTENT_ENCODING` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `STARTED_BY` bigint(20) NOT NULL,
  `STARTED_ON` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_ON` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `FILE_HANDLE_ID` bigint(20) DEFAULT NULL,
  `STATE` ENUM('UPLOADING','COMPLETE') NOT NULL,
  `STORAGE_LOCATION_ID` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY (`STARTED_BY`,`REQUEST_HASH`),
  CONSTRAINT `MUTI_FILE_HAN_BY_FK` FOREIGN KEY (`FILE_HANDLE_ID`) REFERENCES `FILES` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `MUTI_STARTED_BY_FK` FOREIGN KEY (`STARTED_BY`) REFERENCES `JDOUSERGROUP` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `MULTI_STORAGE_LOC_ID_FK` FOREIGN KEY (`STORAGE_LOCATION_ID`) REFERENCES `STORAGE_LOCATION` (`ID`) ON DELETE CASCADE
)