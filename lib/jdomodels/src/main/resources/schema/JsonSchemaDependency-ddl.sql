CREATE TABLE IF NOT EXISTS `JSON_SCHEMA_DEPENDENCY` (
  `VERSION_NUM` BIGINT NOT NULL,
  `DEPENDS_ON_SCHEMA_ID` BIGINT NOT NULL,
  `DEPENDS_ON_SEM_VER` VARCHAR(250) CHARACTER SET ascii DEFAULT NULL,
  PRIMARY KEY (`VERSION_NUM`, `DEPENDS_ON_KEY`, 'DEPENDS_ON_SEM_VER'),
  CONSTRAINT FOREIGN KEY (`VERSION_NUM`) REFERENCES `JSON_SCHEMA_VERSION` (`ID`) ON DELETE CASCADE,
  CONSTRAINT FOREIGN KEY (`DEPENDS_ON_SCHEMA_ID`, `DEPENDS_ON_SEM_VER`) REFERENCES `JSON_SCHEMA_VERSION` (`SCHEMA_ID`, `SEMANTIC_VERSION`) ON DELETE RESTRICT
)
